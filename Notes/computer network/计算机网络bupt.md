# 计算机网络

BPUT 软件工程 第五学期 

教材：《Computer Networks》 **5**th Edition

## 概述

互联网结构：

多级网络

- local ISP:校园网......直接面向用户
- tier 1 ISP：范围覆盖一个国家/洲，远距离高速传输。用户不直接连接
- tier 2 ISP：连接local（或tier3） 和 tier 1。用户不直接连接
- tier 3 ISP：......



网络传输：

- 数据包交换方式：带有接收方的主机ip地址，经过**路由转发**
- 电路交换方式：不需要携带接收方的ip地址，为两个计算机建立**专用通道**



移动通信网络：

- 蜂窝移动通信系统
- 核心网部分用有线方式连接
- 当从一个cell移动到另一个cell时，要进行对应的切换





### 基础概念

计算机网络：

### 网络硬件

网络的分类

- 根据传输技术分类
  - 点对点
  - 广播
- 根据范围分类：
  - 个人范围
  - 区域范围 Local Area Networks
  - ....



Local Area Networks(LANS)局域网：

两种广播网络：

- bus
- ring

Wireless LANs （WLANs） 无线局域网

Wide Area Networks 广域网



---



### 网络软件

#### 协议层次结构

- 协议：通信双方就如何进行通信的一种约定，**每个协议都完全独立于其他的协议，只要接口不变就能正常工作**
- peers：不同机器上构成相应层次的实体称为对等体（peer）
- 接口：接口定义了下层向上层提供哪些原语操作和服务
- 网络结构
- 协议栈

层次设计问题：

- 可靠性：
  - 检错（error detection）编码
  - 找到通过网络的工作路径，路由
- 网络演进：
  - 出现的新设计需要与现有网络连接：协议分层
  - 寻址（addressing）和命名（naming）
- 资源分配：
  - 统计复用(statistical multiplexing）
  - 流量控制
  - 拥塞
- 如何保护网络抵御各种不同的威胁
  - 保密性
  - 认证(authentication)机制
  - 完整性

解决直连主机通信的问题：

- 差错控制：传输过程中可能会收到干扰，导致发送的数据和接受的数据不同。
- 流量控制：两台计算机的性能不一样，接收方性能差会导致数据丢失。

OSI参考模型：

- 物理层：实际的信号传输
  - 把要发送的数据（比特串） 变成 电信号
  - 把接受的电信号转化为比特串
- 数据链路层：保证**直连**设备的可靠的传输
  - 初始化接受缓存和发送缓存->**流量控制**
    - 接受方 向 发送方 发送接收缓冲区的剩余容量
    - 发送方 根据 接收方 的缓存发送数据
  - 接受网络层传入的比特串，增加校验位（**差错控制**），传给物理层
  - 接受物理层传入的比特串 并且 差错控制
    - 正确：将比特串传给网络层 
    - 错误：传回物理层->发送方物理层->发送方数据链路层
- 网络层：提供端到端的通信
  - 路由表配置正确，路由器正确转发
  - 为设备分配正确的地址	
- 传输层：保证**端到端**的可靠通信
  - 接收方可能接收不到发送方的信息
  - 发送方根据接受方的确认信息，决定是否重发
- 会话层：网络中断后，记录断点的信息并在网络恢复后进行重传
- 表示层：统一要发送的信息的比特位顺序
  - 大端序or小端序
- 应用层：
  - http协议
  - email协议
  - ftp协议
  - .......

协议的分层：

- 忽略底层的协议通信，只关注该层对等的消息的传递
- 各层之间：增加/去掉包头，包头内含有该层要传递的信息如：
  - 控制信息-决定上层要遵守的协议
  - 携带发送方和接收方的地址
- 切片和合并：各层允许发送的大小不同
  - 切片应该包含正确的信息，让合并能够正确进行
  - 上层的协议一般比下层协议的长度大


设计要求

- Addressing or naming
- error control
- flow control
- multiplexing:复用底层的协议：tcp和udp都通过ipv4协议进行通讯
- routing：路由
- internetworking:网络互连
- scalabilty:伸缩性
- QoS:?
- security

该层协议向上层提供服务：上层协议实体的通讯，需要调用下层协议的接口

- 面向连接的服务：连接建立后进行通讯 TCP
- 无连接服务：有数据就可以进行发送数据 UDP

## 物理层

将信息（比特串）传出去，将传过来的转化为比特串

- 定义接口
  - electrical
  - timing：多少毫秒代表一个bit？
  - other

调刺：bits 《---》 signals

基带传输中的编码方法：

- NRZ 非归零式：1就产生高电平，0就产生低电平。简单/如果发送方和接收方的时钟不准的话，会出现多（少）采一位----》在电信号中携带时钟信息
- NRZI 非归零反转：出现电平跳跃就是1，否则就是0。多个一不会出现上述情况，多个零会出现
  - 4B/5B：将4位转化成5位，没有连续的3个零
- 曼特斯特：高到低跳转为1，低到高跳转为0
- 双极编码：

通带传输：基带传输的距离不够远

使用载波

- ASK
- FSK
- BPSK

复用：经济的使用通道

- 频分复用
- 时分复用
- 码分复用

