# write a DBMS in python 

## 研究优秀架构，如何进行复杂的软件设计

###  IMoocDB 需求分析

1. 需求分类与整理
2. 需求分析与建模
3. 输出分析结论



![image-20240401222006527](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240401222006527.png)

### 架构设计方法论

1. 分层架构
2. 设计模式和反模式
3. 考虑：可用性，可扩展性，性能，易用性等



### 数据库的常规架构

![image-20240402202613554](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240402202613554.png)



核心组件

1. sql引擎

   （脑）负责解析sql语句，将语句转换为可执行计划

2. 执行引擎

   （手）执行具体的执行计划，并获取返回结果

3. 存储引擎

   （仓库）数据存储的地方，负责组织元数据的存储

次核心组件：

1. 网络通信模块

2. 事务管理模块

   存储引擎的子模块

3. 安全模块





常见开源数据库

1. MySql
   1. 连接器
   2. 解析器
   3. 优化sql访问方法与路径
   4. buffer 缓存数据页
   5. 单进程多线程
2. postgreSql
   1. 代码质量高，开源，国内很多数据库基于他进行二次开发
   2. 多进程
3. SQLite
   1. 只有sql引擎层

### 接口设计

1. 明确输入和输出
2. 抽象和封装
3. 错误处理机制



















